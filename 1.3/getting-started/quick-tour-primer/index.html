<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">
<meta name="keyword" content="">

    <link rel="shortcut icon" href="/mongo-java-driver-rx/1.3/img/favicon.png">

    <title>Quick Tour Primer</title>

    <link rel="stylesheet" href="/mongo-java-driver-rx/1.3/lib/bootstrap.css" type="text/css" />
<link rel="stylesheet" href="/mongo-java-driver-rx/1.3/lib/font-awesome/css/font-awesome.min.css" type="text/css" />
<link rel="stylesheet" href="/mongo-java-driver-rx/1.3/css/mongodb-docs.css" type="text/css" />
<link rel="stylesheet" href="/mongo-java-driver-rx/1.3/css/overrides.css" type="text/css" />
<link rel="stylesheet" href="/mongo-java-driver-rx/1.3/lib/highlight/styles/idea.css" />
<link rel="stylesheet" href="/mongo-java-driver-rx/1.3/lib/bootstrap-toggle/bootstrap-toggle.min.css" type="text/css" />
<link rel="stylesheet" href="/mongo-java-driver-rx/1.3/css/java.css" type="text/css" />


  </head>

  <body>
  
  <section id="container" class="">
      
      <header id="header-db" class="row" role="navigation">
  <div class="header-content">
    <div class="toggle-nav pull-left">
        <i class="fa fa-bars"></i>
        <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
    </div>
    
    <div class="logo pull-left">
      <a href="/mongo-java-driver-rx/1.3/../">
        <img src="/mongo-java-driver-rx/1.3/img/logo-mongodb-header.png", alt="MongoDB.org" />
      </a>
    </div>
    
    <div>
<div class="nav-items pull-right">
    <span class="eol text-center">The MongoDB Java RX driver is now officially end-of-life (EOL).</span>
  <div id="search">
<form method="get" action="//www.google.com/search" target="_blank">
    <input type="text" name="searchQuery" size="20" value="" autocomplete="off" placeholder="Search docs">
    <input type="hidden" name="site" value="/mongo-java-driver-rx/1.3">
    <input type="hidden" name="q" value="">
    <label for="searchQuery"><i class="fa fa-search fa-1"></i></label>
</form>
</div>

</div>
</div>

  </div>
</header>

      

      
<aside id="sidebar" class="sidebar">
    <div class="ssidebar nav-collapse">
      <div class="ssidebarwrapper">
        <h3>
          <a class="index-link" href="/mongo-java-driver-rx/1.3/../">MongoDB RxJava Driver</a>
          <a class="version pull-right" href="/mongo-java-driver-rx/1.3">1.3</a>
        </h3>

        
        <ul class="sidebar-menu">
          
          
          
          
          
          
          
          
          
          
          
          

          
          
            
            









  
    
    
      
      
        
        
        
        
        
        
        
        









  


        
          
        
      
    
      
      
        
        
        
        
        
        
        
        









  
  
  
  
  
  
  
  

  
    
    
    
  
  


        
      
    
      
      
        
      
    
      
      
    
    
  


          
            
            









  


          
            
            









  


          
            
            









  


          
            
            









  


          
            
            









  


          

          

          
            
            













  




<li class="toctree-l1  current">
  <a href="/mongo-java-driver-rx/1.3/getting-started/" class="">
      <i class='fa fa-road'></i>
      <span>Getting Started</span>
      <span class="menu-arrow fa fa-angle-down"></span>
  </a>
    <ul  class="current">
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver-rx/1.3/getting-started/installation-guide/">
        <i class='fa'></i>
        Installation Guide
    </a>
  </li>


        
        
        
        
        













  




    <li class="toctree-l2">
    <a href="/mongo-java-driver-rx/1.3/getting-started/quick-tour-primer/">
        <i class='fa'></i>
        Quick Tour Primer
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver-rx/1.3/getting-started/quick-tour/">
        <i class='fa'></i>
        Quick Tour
    </a>
  </li>


        
        
        
        
        
















    <li class="toctree-l2">
    <a href="/mongo-java-driver-rx/1.3/getting-started/quick-tour-admin/">
        <i class='fa'></i>
        Admin Quick Tour
    </a>
  </li>


        
        
    </ul>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-java-driver-rx/1.3/reference/">
        <i class='fa fa-book'></i>
        Reference
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-java-driver-rx/1.3/changelog/">
        <i class='fa fa-cog'></i>
        Changelog
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-java-driver-rx/1.3/javadoc/">
        <i class='fa fa-file-text-o'></i>
        API Documentation
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="https://github.com/mongodb/mongo-java-driver-rx/tree/master">
        <i class='fa fa-github'></i>
        Source Code
    </a>
  </li>


          
            
            
















    <li class="toctree-l1">
    <a href="/mongo-java-driver-rx/1.3/issues-help/">
        <i class='fa fa-life-ring'></i>
        Issues &amp; Help
    </a>
  </li>


          
        </ul>
        
    </div>
  </div>
  
</aside>

<div class="option-popup closed hidden" id="optionsVersionsPopup">
<div class="option-header">
  <i class="fa fa-gear"></i>
  <span>OPTIONS</span>
  <i class="fa fa-angle-up pull-right"></i>
</div>
<div class="option-body">
  <ul>
      
      <li>
        <label>Version</label>
        <div class="btn-group btn-group-xs pull-right">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
            Select Version <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu" id="optionsVersionsMenu">
          </ul>
        </div>
      </li>

   


    

  </ul>
</div>
</div>



      
      <section id="main-content" class="content">
          <section class="main-column pull-left">
            <div class="document">
              <div class="documentwrapper">
                <div class="bodywrapper">
                  <div class="body">


   
<a class="edit-link" href="https://github.com/mongodb/mongo-java-driver-rx/blob/master/docs/reference/content/getting-started/quick-tour-primer.md" target="_blank" title="Edit getting-started/quick-tour-primer.md on GitHub"><i class="fa fa-pencil-square-o"></i></a>










<div class="bc">
<ul>
  
  
  
  
  
  <li><a href="/mongo-java-driver-rx/1.3/getting-started/">Getting Started</a> <i class="fa fa-angle-right"></i></li>
  <li>Quick Tour Primer</li>
</ul>
</div>




<h1 id="quick-tour-primer">Quick Tour Primer</h1>

<p>The aim of this guide is to provide background about the Scala driver and its asynchronous API before going onto
looking at how to use the driver and MongoDB.</p>

<p><div class="admonition note">
<h5 class="admonition-title">Note</h5>
<p>See the <a href="/mongo-java-driver-rx/1.3/getting-started/installation-guide/">installation guide</a>
for instructions on how to install the MongoDB RxJava Driver.</p>

</div>
</p>

<h2 id="reactive-extensions">Reactive Extensions</h2>

<p>This library provides support for <a href="http://reactivex.io/">ReactiveX (Reactive Extensions)</a> by using the
<a href="https://github.com/ReactiveX/RxJava">RxJava</a> library.  All database calls return an <code>Observable</code> which an <code>Observer</code> can subscribe to.
That <code>Observer</code> reacts to whatever item or sequence of items the <code>Observable</code> emits.  This pattern facilitates concurrent operations
because it does not need to block while waiting for the <code>Observable</code> to emit objects, but instead it creates a sentry in the form of
an <code>Observer</code> that stands ready to react appropriately at whatever future time the <code>Observable</code> does so.</p>

<p>For more information about Reactive Extensions and Observables go to: <a href="http://reactivex.io/">http://reactivex.io</a>.</p>

<h2 id="from-async-callbacks-to-observables">From Async Callbacks to Observables</h2>

<p>The MongoDB RxJava Driver is built upon the MongoDB Async driver which is callback driven.
The API mirrors the Async driver API and any methods that cause network IO return either a <code>Observable&lt;T&gt;</code> or a <code>MongoObservable&lt;T&gt;</code>
where <code>T</code> is the type of response for the operation.<br />
The exception to that rule is for methods in the async driver that return a <code>Void</code> value in the callback.
As an <code>Observable&lt;Void&gt;</code> is generally considered bad practise, in these circumstances we
return a <a href="/mongo-java-driver-rx/1.3/javadoc?com/mongodb/rx/client/Success.html
"><code>Observable&lt;Success&gt;</code></a> for the operation.</p>

<h3 id="mongoobservable">MongoObservable</h3>

<p>In RxJava <code>Observable</code> is not an interface, so where the MongoDB Async Driver API follows a fluent interface pattern we return a
<code>MongoObservable&lt;T&gt;</code>.  The <code>MongoObservable&lt;T&gt;</code> mirrors the underlying fluent API and provides two extra methods:</p>

<ol>
<li><p><code>toObservable()</code></p>

<p>Returns an <code>Observable&lt;T&gt;</code> instance for the operation.</p></li>

<li><p><code>subscribe(Subscriber&lt;? super TResult&gt; subscriber)</code></p>

<p>Subscribes to the <code>Observable</code>.</p></li>
</ol>

<p><div class="admonition note">
<h5 class="admonition-title">Note</h5>
<p>All <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html"><code>Observables</code></a> returned
from the API are cold, meaning that no I/O happens until they are subscribed to. As such an observer is guaranteed to see the whole
sequence from the beginning. So just creating an <code>Observable</code> won&rsquo;t cause any network IO, and it&rsquo;s not until <code>Subscriber.request()</code> is called
that the driver executes the operation.</p>

<p>Publishers in this implementation are unicast. Each <a href="http://reactivex.io/RxJava/javadoc/rx/Subscription.html"><code>Subscription</code></a>
to an <code>Observable</code> relates to a single MongoDB operation and its <a href="http://reactivex.io/RxJava/javadoc/rx/Subscriber.html">&lsquo;Subscriber&rsquo;</a><br />
will receive its own specific set of results.</p>

</div>
</p>

<h2 id="subscribers-used-in-the-quick-tour">Subscribers used in the Quick Tour</h2>

<p>For the Quick Tour we use RxJava&rsquo;s <a href="http://reactivex.io/RxJava/javadoc/rx/observers/TestSubscriber.html">TestSubscriber<T></a> and although
this is an artificial scenario for reactive extensions we generally block on the results of one example before starting the next, so as to
ensure the state of the database.  <a href="https://github.com/mongodb/mongo-java-driver-rx/blob/master/examples/tour/src/main/tour/SubscriberHelpers.java
"><code>SubscriberHelpers.java</code></a> provides
two static helpers:</p>

<ol>
<li><p>printSubscriber</p>

<p>Prints each value emitted by the <code>Observable</code>, along with an optional initial message.</p></li>

<li><p>printDocumentSubscriber</p>

<p>Prints the json version of each <code>Document</code> emitted but the <code>Observable</code>.</p></li>
</ol>

<h2 id="blocking-and-non-blocking-examples">Blocking and non blocking examples</h2>

<p>As the <code>TestSubscriber</code> contains a latch that is only released when the <code>onCompleted</code> method of the <code>Subscriber</code> is called,
we can use that latch  to block on by calling the <code>subscriber.awaitTerminalEvent()</code> method.  Below are two examples using our auto-requesting <code>PrintDocumentSubscriber</code>.<br />
The first is non-blocking and the second blocks waiting for the <code>Publisher</code> to complete:</p>

<pre><code class="language-java">// Create a publisher
Observable&lt;Document&gt; observable = collection.find().toObservable();

// Non blocking
observable.subscribe(printDocumentSubscriber());

Subscriber&lt;Document&gt; subscriber = printDocumentSubscriber();
observable.subscribe(subscriber);
subscriber.awaitTerminalEvent(); // Block for the publisher to complete
</code></pre>






<div id="btnv">
  
  <div class="pull-left">
  <a class="navigation prev" href="/mongo-java-driver-rx/1.3/getting-started/installation-guide/">
      <i class="fa fa-long-arrow-left"> </i> Installation Guide
  </a>
  </div>
  
  
  <div class="pull-right">
  <a class="navigation next" href="/mongo-java-driver-rx/1.3/getting-started/quick-tour/">
    Quick Tour <i class="fa fa-long-arrow-right"> </i>
  </a>
  
</div>
</div>


</div>
<div class="right-column">
<div class="wrapper">
  
  <div class="toc">
    <span class="toc-header">On this page</span>
    <nav id="TableOfContents">
<ul>
<li><a href="#quick-tour-primer">Quick Tour Primer</a>
<ul>
<li><a href="#reactive-extensions">Reactive Extensions</a></li>
<li><a href="#from-async-callbacks-to-observables">From Async Callbacks to Observables</a>
<ul>
<li><a href="#mongoobservable">MongoObservable</a></li>
</ul></li>
<li><a href="#subscribers-used-in-the-quick-tour">Subscribers used in the Quick Tour</a></li>
<li><a href="#blocking-and-non-blocking-examples">Blocking and non blocking examples</a></li>
</ul></li>
</ul>
</nav>
  </div>
  
</div>
</div>

</div>
</div>
</div>
</section>
</section>

</section>


<script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
   URL_ROOT:    "/mongo-java-driver-rx/1.3",
   VERSION:     "1.3",
   COLLAPSE_INDEX: false,
   FILE_SUFFIX: '.html',
   HAS_SOURCE:  true
  };
</script>
<script type="text/javascript" src="/mongo-java-driver-rx/1.3/js/jquery.js"></script>
<script type="text/javascript" src="/mongo-java-driver-rx/1.3/lib/bootstrap.js"></script>
<script type="text/javascript" src="/mongo-java-driver-rx/1.3/js/navbar.js"></script>
<script type="text/javascript" src="/mongo-java-driver-rx/1.3/lib/highlight/highlight.pack.js"></script>
<script type="text/javascript" src="/mongo-java-driver-rx/1.3/js/scripts.js"></script>
<script type="text/javascript" src="/mongo-java-driver-rx/1.3/lib/bootstrap-toggle/bootstrap-toggle.min.js"></script>
<script type="text/javascript" src="/mongo-java-driver-rx/1.3/js/java.js"></script>



<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-K75Z5Q"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(
{'gtm.start': new Date().getTime(),event:'gtm.js'}
);var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-K75Z5Q');</script>


<script type="text/javascript">
var _elqQ = _elqQ || [];
_elqQ.push(['elqSetSiteId', '413370795']);
_elqQ.push(['elqTrackPageView']);
(function () {
function async_load()
{ var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = '//img03.en25.com/i/elqCfg.min.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x); }
if (window.addEventListener) window.addEventListener('DOMContentLoaded', async_load, false);
else if (window.attachEvent) window.attachEvent('onload', async_load);
})();
</script>

</body>
</html>

